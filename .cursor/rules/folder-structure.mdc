# ğŸ“ LockApp KlasÃ¶r YapÄ±sÄ± KurallarÄ±

## **ğŸ¯ Temel Prensip: Separation of Concerns**
Her dosya belirlenen klasÃ¶rde bulunmalÄ± ve amacÄ±na uygun konumlandÄ±rÄ±lmalÄ±dÄ±r.

## **ğŸ“‚ Zorunlu KlasÃ¶r YapÄ±sÄ±**

```
lib/src/
â”œâ”€â”€ api/             # API clients ve calls (Supabase, HTTP)
â”œâ”€â”€ assets/          # Images, fonts, animations
â”œâ”€â”€ components/      # Reusable, pure UI components
â”œâ”€â”€ config/          # Environment variables ve configuration
â”œâ”€â”€ constants/       # App-wide constants (route names, etc.)
â”œâ”€â”€ hooks/           # Custom React hooks (if needed)
â”œâ”€â”€ navigation/      # React Navigation logic ve routers
â”œâ”€â”€ screens/         # Screen components (Her screen kendi klasÃ¶rÃ¼)
â”œâ”€â”€ store/           # Riverpod state management
â”œâ”€â”€ theme/           # Styling ve theme (colors, fonts, spacing)
â”œâ”€â”€ types/           # Global TypeScript types
â””â”€â”€ utils/           # Helper functions (formatDate, validators, etc.)
```

## **ğŸ”’ KlasÃ¶r KurallarÄ±**

### **ğŸ“± /screens/ KlasÃ¶rÃ¼**
```
screens/
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ login_screen.dart
â”‚   â”œâ”€â”€ register_screen.dart
â”‚   â””â”€â”€ forgot_password_screen.dart
â”œâ”€â”€ parent/
â”‚   â”œâ”€â”€ parent_dashboard_screen.dart
â”‚   â”œâ”€â”€ device_list_screen.dart
â”‚   â””â”€â”€ usage_stats_screen.dart
â”œâ”€â”€ child/
â”‚   â”œâ”€â”€ child_dashboard_screen.dart
â”‚   â””â”€â”€ lock_screen.dart
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ error_screen.dart
â”‚   â””â”€â”€ loading_screen.dart
â””â”€â”€ onboarding/
    â”œâ”€â”€ onboarding_screen.dart
    â””â”€â”€ role_selection_screen.dart
```

### **ğŸª /store/ KlasÃ¶rÃ¼ (Riverpod)**
```
store/
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ auth_provider.dart
â”‚   â”œâ”€â”€ auth_state.dart
â”‚   â””â”€â”€ auth_notifier.dart
â”œâ”€â”€ device/
â”‚   â”œâ”€â”€ device_provider.dart
â”‚   â”œâ”€â”€ device_state.dart
â”‚   â””â”€â”€ device_notifier.dart
â”œâ”€â”€ app_lock/
â”‚   â”œâ”€â”€ app_lock_provider.dart
â”‚   â””â”€â”€ app_lock_state.dart
â””â”€â”€ global/
    â”œâ”€â”€ app_state_provider.dart
    â””â”€â”€ navigation_provider.dart
```

### **ğŸŒ /api/ KlasÃ¶rÃ¼**
```
api/
â”œâ”€â”€ supabase_client.dart      # Supabase client setup
â”œâ”€â”€ auth_service.dart         # Authentication API calls
â”œâ”€â”€ device_service.dart       # Device management API
â”œâ”€â”€ usage_service.dart        # Usage statistics API
â”œâ”€â”€ lock_service.dart         # App locking API
â””â”€â”€ models/
    â”œâ”€â”€ api_response.dart
    â”œâ”€â”€ api_error.dart
    â””â”€â”€ request_models.dart
```

### **ğŸ¨ /components/ KlasÃ¶rÃ¼**
```
components/
â”œâ”€â”€ buttons/
â”‚   â”œâ”€â”€ primary_button.dart
â”‚   â”œâ”€â”€ secondary_button.dart
â”‚   â””â”€â”€ icon_button.dart
â”œâ”€â”€ cards/
â”‚   â”œâ”€â”€ device_card.dart
â”‚   â”œâ”€â”€ app_card.dart
â”‚   â””â”€â”€ feature_card.dart
â”œâ”€â”€ forms/
â”‚   â”œâ”€â”€ custom_text_field.dart
â”‚   â”œâ”€â”€ password_field.dart
â”‚   â””â”€â”€ form_validators.dart
â”œâ”€â”€ dialogs/
â”‚   â”œâ”€â”€ confirmation_dialog.dart
â”‚   â”œâ”€â”€ error_dialog.dart
â”‚   â””â”€â”€ loading_dialog.dart
â””â”€â”€ common/
    â”œâ”€â”€ loading_indicator.dart
    â”œâ”€â”€ empty_state.dart
    â””â”€â”€ error_widget.dart
```

### **ğŸ¯ /types/ KlasÃ¶rÃ¼**
```
types/
â”œâ”€â”€ user_model.dart
â”œâ”€â”€ user_model.g.dart
â”œâ”€â”€ device_model.dart
â”œâ”€â”€ device_model.g.dart
â”œâ”€â”€ app_model.dart
â”œâ”€â”€ usage_stats_model.dart
â”œâ”€â”€ enums/
â”‚   â”œâ”€â”€ user_role.dart
â”‚   â”œâ”€â”€ device_status.dart
â”‚   â””â”€â”€ app_status.dart
â””â”€â”€ interfaces/
    â”œâ”€â”€ api_service.dart
    â””â”€â”€ storage_service.dart
```

## **âš ï¸ KlasÃ¶r KurallarÄ±**

### **âœ… YAPILMASI GEREKENLER**
1. **Absolute Imports:** `import 'package:lockapp/src/components/buttons/primary_button.dart';`
2. **Dosya AdlandÄ±rma:** `snake_case` kullanÄ±n
3. **KlasÃ¶r AdlandÄ±rma:** `lowercase` kullanÄ±n
4. **Tek Sorumluluk:** Her dosya tek bir class/widget iÃ§ermeli
5. **Barrel Exports:** Her klasÃ¶rde `index.dart` oluÅŸturun

### **âŒ YAPILMAMASI GEREKENLER**
1. **Relative Imports:** `import '../../components/button.dart'` YASAK
2. **KarÄ±ÅŸÄ±k KlasÃ¶rler:** Screen iÃ§inde service kodu YASAK
3. **BÃ¼yÃ¼k Dosyalar:** 500+ satÄ±r dosyalar bÃ¶lÃ¼nmeli
4. **Generic Ä°simler:** `utils.dart`, `helpers.dart` gibi belirsiz isimler

## **ğŸ“ Dosya AdlandÄ±rma KurallarÄ±**

### **Screen DosyalarÄ±**
- `login_screen.dart`
- `parent_dashboard_screen.dart`
- `device_list_screen.dart`

### **Component DosyalarÄ±**
- `primary_button.dart`
- `device_card.dart`
- `custom_text_field.dart`

### **Service DosyalarÄ±**
- `auth_service.dart`
- `database_service.dart`
- `notification_service.dart`

### **Provider DosyalarÄ±**
- `auth_provider.dart`
- `device_provider.dart`
- `app_state_provider.dart`

### **Model DosyalarÄ±**
- `user_model.dart`
- `device_model.dart`
- `api_response.dart`

## **ğŸ”„ Barrel Exports Ã–rneÄŸi**

```dart
// lib/src/components/index.dart
export 'buttons/primary_button.dart';
export 'buttons/secondary_button.dart';
export 'cards/device_card.dart';
export 'forms/custom_text_field.dart';

// Usage:
import 'package:lockapp/src/components/index.dart';
```

## **ğŸ¯ Faz BazlÄ± Dosya OluÅŸturma**

### **Faz 1: Temel AltyapÄ±**
```
lib/src/
â”œâ”€â”€ api/supabase_client.dart
â”œâ”€â”€ store/app_state_provider.dart
â”œâ”€â”€ utils/error_handler.dart
â””â”€â”€ config/app_config.dart
```

### **Faz 2: Authentication**
```
lib/src/
â”œâ”€â”€ api/auth_service.dart
â”œâ”€â”€ store/auth/auth_provider.dart
â”œâ”€â”€ screens/auth/login_screen.dart
â””â”€â”€ types/user_model.dart
```

**Bu yapÄ±yÄ± takip etmek zorunludur!** ğŸš¨
description:
globs:
alwaysApply: false
---
